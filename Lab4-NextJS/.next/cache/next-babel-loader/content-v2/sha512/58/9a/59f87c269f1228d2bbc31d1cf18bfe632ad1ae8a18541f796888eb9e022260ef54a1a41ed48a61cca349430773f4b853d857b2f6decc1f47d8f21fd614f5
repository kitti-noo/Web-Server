{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\OneDrive\\\\Learning\\\\GitHub\\\\Lab-NextJS\\\\pages\\\\todo.js\";\nimport { useEffect, useState } from 'react';\nimport styles from '../styles/Todo.module.css';\n\nconst Todo = () => {\n  // const [tasks, setTasks] = useState([\n  //     { id: 1, name: 'Reading a book' },\n  //     { id: 2, name: 'Sleep at night' }\n  // ])\n  const {\n    0: tasks,\n    1: setTasks\n  } = useState([]);\n  useEffect(async () => {\n    let ts = await getTasks();\n    console.log(ts);\n    setTasks(ts);\n  }, []);\n  const {\n    0: age,\n    1: setAge\n  } = useState('');\n  const {\n    0: name,\n    1: setName\n  } = useState('');\n  const {\n    0: idEdit,\n    1: setidEdit\n  } = useState(0);\n\n  const renderTask = () => {\n    // return tasks.map((task)=>{\n    //     console.log(task.id ,task.name);\n    //     return (<li>{task.id} {task.name}</li>)\n    // })\n    return tasks.map((task, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n      className: styles.listItem,\n      children: [index + 1 + ') ', +idEdit !== +task.id ? task.name : /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: styles.text,\n        value: name,\n        onChange: e => setName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 18\n      }, this), +idEdit !== +task.id ? ' age : ' + task.age : /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: styles.text,\n        value: age,\n        onChange: e => setAge(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.buttonContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => editTask(task.id, task.name, task.age),\n          className: `${styles.button} ${styles.btnEdit}`,\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => deleteTask(task.id),\n          className: `${styles.button} ${styles.btnDelete}`,\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 10\n    }, this));\n  };\n\n  const editTask = id => {\n    console.log('Edit Task', id);\n    setidEdit(id);\n    let t = tasks.find(task => +task.id === +id);\n    setName(t.name);\n    setAge(t.age);\n\n    if (+idEdit === +id) {\n      //Press Edit again\n      let newTasks = tasks.map((task, index) => {\n        if (+task.id === +id) {\n          tasks[index].name = name;\n          tasks[index].age = age;\n        }\n\n        return task;\n      });\n      setTasks(newTasks);\n      setidEdit(0);\n    }\n  };\n\n  const deleteTask = id => {\n    console.log('Delete');\n    const newTasks = tasks.filter(task => task.id !== +id);\n    setTasks(newTasks);\n  };\n\n  const addTask = () => {\n    console.log('Add!!');\n\n    if (tasks.length > 9) {\n      alert(' Task name ได้ไม่เกิน 10 Tasks');\n    } else if (name.trim() !== '') {\n      const id = [tasks.length - 1] < 0 ? 1 : tasks[tasks.length - 1].id + 1;\n      setTasks([...tasks, {\n        id: id,\n        name: name,\n        age: age\n      }]);\n    }\n\n    console.log('Tasks:', tasks);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: styles.title,\n      children: \"Todo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"addContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        onChange: e => setName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        onChange: e => setAge(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: addTask,\n        className: `${styles.button} ${styles.btnAdd}`,\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: styles.list,\n      children: renderTask()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 9\n  }, this);\n};\n\nconst getTasks = async () => {\n  const res = await fetch('http://localhost:8000/');\n  const json = await res.json();\n  console.log(json);\n  return json;\n};\n\nexport default Todo;","map":{"version":3,"sources":["D:/OneDrive/Learning/GitHub/Lab-NextJS/pages/todo.js"],"names":["useEffect","useState","styles","Todo","tasks","setTasks","ts","getTasks","console","log","age","setAge","name","setName","idEdit","setidEdit","renderTask","map","task","index","listItem","id","text","e","target","value","buttonContainer","editTask","button","btnEdit","deleteTask","btnDelete","t","find","newTasks","filter","addTask","length","alert","trim","container","title","btnAdd","list","res","fetch","json"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react'\r\nimport styles from '../styles/Todo.module.css'\r\nconst Todo = () => {\r\n\r\n    // const [tasks, setTasks] = useState([\r\n    //     { id: 1, name: 'Reading a book' },\r\n    //     { id: 2, name: 'Sleep at night' }\r\n    // ])\r\n\r\n\r\n    const [tasks, setTasks] = useState([])\r\n\r\n    useEffect(async () => {\r\n        let ts = await getTasks();\r\n        console.log(ts)\r\n        setTasks(ts)\r\n    }, [])\r\n\r\n\r\n    const [age, setAge] = useState('')\r\n\r\n\r\n    const [name, setName] = useState('')\r\n\r\n\r\n    const [idEdit, setidEdit] = useState(0)\r\n    const renderTask = () => {\r\n        // return tasks.map((task)=>{\r\n        //     console.log(task.id ,task.name);\r\n        //     return (<li>{task.id} {task.name}</li>)\r\n\r\n        // })\r\n        return tasks.map((task, index) =>\r\n        (<li key={index} className={styles.listItem}>\r\n            {index + 1 + ') '}\r\n            {(+idEdit !== +task.id) ? task.name :\r\n                (<input type=\"text\" className={styles.text}\r\n\r\n                    value={name}\r\n                    onChange={(e) => setName(e.target.value)}>\r\n\r\n                </input >)}\r\n            {(+idEdit !== +task.id) ? ' age : ' +task.age :\r\n                (<input type=\"text\" className={styles.text}\r\n\r\n                    value={age}\r\n                    onChange={(e) => setAge(e.target.value)}>\r\n\r\n                </input >)}                           \r\n            \r\n            <div className={styles.buttonContainer}>\r\n                <button onClick={() => editTask(task.id, task.name, task.age)} className={`${styles.button} ${styles.btnEdit}`}>Edit</button>\r\n                <button onClick={() => deleteTask(task.id)} className={`${styles.button} ${styles.btnDelete}`}\r\n                >Delete</button>\r\n            </div>\r\n\r\n        </li>))\r\n    }\r\n    const editTask = (id) => {\r\n        console.log('Edit Task', id);\r\n        setidEdit(id)\r\n        let t = tasks.find((task) => +task.id === +id)\r\n        setName(t.name)\r\n        setAge(t.age)\r\n        if (+idEdit === +id) { //Press Edit again\r\n            let newTasks = tasks.map((task, index) => {\r\n                if (+task.id === +id){\r\n                    tasks[index].name = name\r\n                    tasks[index].age = age\r\n                }\r\n                   \r\n                return task\r\n            })\r\n            setTasks(newTasks)\r\n            setidEdit(0)\r\n        }\r\n\r\n    }\r\n    const deleteTask = (id) => {\r\n        console.log('Delete');\r\n        const newTasks = tasks.filter((task) => (task.id !== +id))\r\n        setTasks(newTasks)\r\n    }\r\n\r\n    const addTask = () => {\r\n        console.log('Add!!');\r\n        if (tasks.length > 9) {\r\n            alert(' Task name ได้ไม่เกิน 10 Tasks')\r\n        }\r\n        else if (name.trim() !== '') {\r\n\r\n            const id = [tasks.length - 1] < 0 ? 1 : tasks[tasks.length - 1].id + 1;\r\n            setTasks([...tasks, { id: id, name: name,age: age }])\r\n\r\n        }\r\n\r\n\r\n        console.log('Tasks:', tasks);\r\n\r\n    }\r\n    return (\r\n        <div className={styles.container}>\r\n            <h1 className={styles.title}>Todo</h1>\r\n            <div className=\"addContainer\">\r\n\r\n                <input type=\"text\" onChange={(e) => setName(e.target.value)} ></input>\r\n                <input type=\"text\" onChange={(e) => setAge(e.target.value)} ></input>\r\n                <button onClick={addTask} className={`${styles.button} ${styles.btnAdd}`}\r\n                >Add</button>\r\n            </div>\r\n            <ul className={styles.list}>\r\n                {renderTask()}\r\n            </ul>\r\n        </div>\r\n\r\n    )\r\n}\r\nconst getTasks = async () => {\r\n    const res = await fetch('http://localhost:8000/')\r\n    const json = await res.json()\r\n    console.log(json)\r\n    return json;\r\n}\r\n\r\n\r\n\r\n\r\nexport default Todo"]},"metadata":{},"sourceType":"module"}